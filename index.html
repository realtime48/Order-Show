<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Show Realtime</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');

        body {
            font-family: 'Poppins', sans-serif;
            background: radial-gradient(ellipse at bottom, #1B2735 0%, #090A0F 100%);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
            margin: 0;
        }

        /* Night Sky Background */
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            opacity: 0.5;
            animation: twinkle var(--duration) infinite ease-in-out;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        .moon {
            position: absolute;
            top: 50px;
            right: 50px;
            width: 80px;
            height: 80px;
            background: #fefcd7;
            border-radius: 50%;
            box-shadow: 0 0 40px 10px rgba(254, 252, 215, 0.3);
            z-index: 1;
        }

        /* Glassmorphism */
        .glass {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
        }

        .nav-active {
            color: #FFD700;
            border-bottom: 2px solid #FFD700;
        }

        .hidden-panel {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 1000;
            overflow-y: auto;
            padding: 20px;
        }

        .wa-float {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background-color: #25d366;
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
            box-shadow: 2px 2px 10px rgba(0,0,0,0.5);
            z-index: 100;
            transition: transform 0.3s;
        }

        .wa-float:hover {
            transform: scale(1.1);
        }

        .card-show {
            transition: transform 0.3s ease;
        }

        .card-show:hover {
            transform: translateY(-10px);
        }

        input, textarea, select {
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            color: white;
            padding: 8px;
            border-radius: 8px;
            width: 100%;
            margin-bottom: 10px;
        }
        
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8);
            align-items: center;
            justify-content: center;
        }
    </style>
</head>
<body>

    <div class="stars" id="starContainer"></div>
    <div class="moon"></div>

    <!-- Header / Nav -->
    <header class="relative z-10 p-6 flex flex-col md:flex-row justify-between items-center max-w-7xl mx-auto">
        <div class="flex items-center gap-4 cursor-pointer" onclick="checkAdmin()">
            <img id="webLogo" src="https://via.placeholder.com/50" alt="Logo" class="w-12 h-12 object-contain rounded-full border-2 border-yellow-500">
            <h1 class="text-2xl font-bold tracking-wider" id="webNameDisplay">ORDER SHOW REALTIME</h1>
        </div>
        <nav class="flex gap-6 mt-4 md:mt-0 text-sm font-semibold">
            <button onclick="showPage('info')" id="nav-info" class="nav-active hover:text-yellow-400 transition">INFORMASI</button>
            <button onclick="showPage('order')" id="nav-order" class="hover:text-yellow-400 transition">ORDER SHOW</button>
            <button onclick="showPage('membership')" id="nav-membership" class="hover:text-yellow-400 transition">MEMBERSHIP</button>
        </nav>
    </header>

    <main class="relative z-10 max-w-7xl mx-auto p-6 min-h-[70vh]">
        
        <!-- PAGE 1: INFORMASI -->
        <section id="page-info" class="animate-fade-in">
            <div class="glass p-8 md:p-12 text-center max-w-3xl mx-auto mt-10">
                <h2 id="infoTitle" class="text-4xl font-bold mb-6 text-yellow-500">Selamat Datang</h2>
                <p id="infoContent" class="text-gray-300 leading-relaxed text-lg mb-8">
                    Nikmati pengalaman pertunjukan terbaik di bawah langit malam yang indah. Kami menyajikan berbagai show eksklusif dengan pelayanan realtime yang profesional.
                </p>
                <div class="flex justify-center gap-4">
                    <button onclick="showPage('order')" class="bg-yellow-600 hover:bg-yellow-500 text-white px-8 py-3 rounded-full font-bold transition">Lihat Show</button>
                </div>
            </div>
        </section>

        <!-- PAGE 2: ORDER SHOW -->
        <section id="page-order" class="hidden">
            <h2 class="text-3xl font-bold mb-10 text-center text-yellow-500 uppercase tracking-widest">Daftar Pertunjukan</h2>
            <div id="showGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Data Show akan di-render disini -->
            </div>
        </section>

        <!-- PAGE 3: MEMBERSHIP -->
        <section id="page-membership" class="hidden">
            <div class="glass p-8 max-w-2xl mx-auto mt-10 text-center border-2 border-yellow-600">
                <div id="membershipStatus" class="mb-4 inline-block px-4 py-1 rounded-full text-xs font-bold uppercase"></div>
                <h2 class="text-3xl font-bold mb-4 text-white">Membership Realtime</h2>
                <p id="membershipDesc" class="text-gray-400 mb-6"></p>
                <div class="text-4xl font-bold text-yellow-500 mb-8" id="membershipPrice">Rp 0</div>
                <div id="membershipAvailable">
                    <button onclick="openOrderModal('Membership Realtime', document.getElementById('membershipPrice').innerText, 'Premium', 'Exclusive Access', 'Daily')" class="w-full bg-yellow-600 hover:bg-yellow-500 text-white py-4 rounded-xl font-bold text-xl transition shadow-lg">DAFTAR SEKARANG</button>
                </div>
                <div id="membershipClosed" class="hidden text-red-500 font-bold text-xl p-4 border border-red-500 rounded-xl">
                    PENDAFTARAN SEDANG DITUTUP
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="relative z-10 text-center p-10 text-gray-500 text-sm">
        &copy; 2024 <span id="footerWebName">Order Show Realtime</span>. All Rights Reserved.
    </footer>

    <!-- Admin Panel (Tersembunyi) -->
    <div id="adminPanel" class="hidden-panel">
        <div class="max-w-4xl mx-auto">
            <div class="flex justify-between items-center mb-8 border-b border-gray-700 pb-4">
                <h2 class="text-3xl font-bold text-yellow-500">ADMIN PANEL</h2>
                <button onclick="closeAdmin()" class="text-white text-3xl">&times;</button>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-10">
                <!-- General Settings -->
                <div class="glass p-6">
                    <h3 class="text-xl font-bold mb-4 text-blue-400">Pengaturan Umum</h3>
                    <label>Logo URL (Image Link)</label>
                    <input type="text" id="inputLogo" placeholder="https://...">
                    <label>Nama Website</label>
                    <input type="text" id="inputWebName">
                    <label>Judul Informasi</label>
                    <input type="text" id="inputInfoTitle">
                    <label>Konten Informasi</label>
                    <textarea id="inputInfoContent" rows="4"></textarea>
                    <button onclick="saveGeneralSettings()" class="w-full bg-blue-600 p-2 rounded mt-2 font-bold">SIMPAN PERUBAHAN</button>
                </div>

                <!-- Membership Settings -->
                <div class="glass p-6">
                    <h3 class="text-xl font-bold mb-4 text-purple-400">Pengaturan Membership</h3>
                    <label>Status</label>
                    <select id="inputMemberStatus">
                        <option value="open">Buka</option>
                        <option value="closed">Tutup</option>
                    </select>
                    <label>Deskripsi</label>
                    <textarea id="inputMemberDesc"></textarea>
                    <label>Harga (Contoh: Rp 100.000)</label>
                    <input type="text" id="inputMemberPrice">
                    <label>QRIS URL (Image Link)</label>
                    <input type="text" id="inputMemberQRIS">
                    <button onclick="saveMemberSettings()" class="w-full bg-purple-600 p-2 rounded mt-2 font-bold">SIMPAN MEMBERSHIP</button>
                </div>
            </div>

            <!-- Manage Shows -->
            <div class="glass p-6 mt-8">
                <h3 class="text-xl font-bold mb-4 text-green-400">Kelola Daftar Show</h3>
                <div id="adminShowList" class="space-y-4 mb-6">
                    <!-- List show for admin -->
                </div>
                <div class="border-t border-gray-700 pt-4">
                    <h4 class="font-bold mb-2">Tambah Show Baru</h4>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-2">
                        <input type="text" id="newShowName" placeholder="Nama Show">
                        <input type="text" id="newShowPrice" placeholder="Harga (Rp)">
                        <input type="text" id="newShowTime" placeholder="Jam Show">
                        <input type="text" id="newShowLineup" placeholder="Line Up">
                        <input type="text" id="newShowCriteria" placeholder="Kriteria Show">
                        <input type="text" id="newShowImage" placeholder="URL Foto Show">
                        <input type="text" id="newShowQRIS" placeholder="URL QRIS">
                    </div>
                    <button onclick="addShow()" class="w-full bg-green-600 p-3 rounded mt-4 font-bold">+ TAMBAH SHOW</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Order Modal (QRIS) -->
    <div id="orderModal" class="modal">
        <div class="glass p-6 max-w-sm w-full mx-4 relative text-center">
            <button onclick="closeOrderModal()" class="absolute top-2 right-4 text-2xl">&times;</button>
            <h3 class="text-xl font-bold mb-2" id="modalTitle">ORDER</h3>
            <p id="modalDetail" class="text-sm text-gray-400 mb-4"></p>
            <div class="bg-white p-4 rounded-lg mb-4">
                <img id="modalQRIS" src="" alt="QRIS" class="w-full h-auto">
            </div>
            <p class="text-xs text-gray-400 mb-4">Silakan scan QRIS di atas untuk melakukan pembayaran, lalu klik tombol di bawah untuk konfirmasi via WhatsApp.</p>
            <button id="waConfirmBtn" class="w-full bg-green-600 p-3 rounded-lg font-bold flex items-center justify-center gap-2">
                <i class="fab fa-whatsapp"></i> KONFIRMASI PEMBAYARAN
            </button>
        </div>
    </div>

    <!-- WhatsApp Floating Button -->
    <a href="https://wa.me/6288809048431" target="_blank" class="wa-float">
        <i class="fab fa-whatsapp"></i>
    </a>

    <script>
        // DATA STATE
        let siteData = {
            webName: "Order Show Realtime",
            logo: "https://via.placeholder.com/150/000000/FFFFFF?text=OSR",
            infoTitle: "Eksklusivitas dalam Genggaman",
            infoContent: "Kami menghadirkan pertunjukan berkualitas dengan sistem pemesanan yang mudah dan cepat. Kepuasan Anda adalah prioritas kami.",
            membership: {
                status: "open",
                desc: "Dapatkan akses prioritas ke semua show, diskon khusus, dan merchandise eksklusif setiap bulan.",
                price: "Rp 250.000",
                qris: "https://via.placeholder.com/300?text=QRIS+MEMBERSHIP"
            },
            shows: [
                {
                    id: Date.now(),
                    name: "Jazz Night Under Stars",
                    price: "Rp 150.000",
                    time: "20:00 - 23:00 WIB",
                    lineup: "The Moonlight Band",
                    criteria: "18+, Casual Attire",
                    image: "https://images.unsplash.com/photo-1514525253344-f814d074e015?auto=format&fit=crop&q=80&w=400",
                    qris: "https://via.placeholder.com/300?text=QRIS+SHOW+A"
                }
            ]
        };

        const ADMIN_CODE = "011102";
        const WA_PHONE = "6288809048431";

        // INITIALIZE
        window.onload = () => {
            createStars();
            loadFromStorage();
            renderAll();
        };

        function createStars() {
            const container = document.getElementById('starContainer');
            for(let i=0; i<150; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                const size = Math.random() * 3 + 'px';
                star.style.width = size;
                star.style.height = size;
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.setProperty('--duration', (Math.random() * 3 + 2) + 's');
                container.appendChild(star);
            }
        }

        function showPage(pageId) {
            document.getElementById('page-info').classList.add('hidden');
            document.getElementById('page-order').classList.add('hidden');
            document.getElementById('page-membership').classList.add('hidden');
            
            document.getElementById('nav-info').classList.remove('nav-active');
            document.getElementById('nav-order').classList.remove('nav-active');
            document.getElementById('nav-membership').classList.remove('nav-active');

            document.getElementById('page-' + pageId).classList.remove('hidden');
            document.getElementById('nav-' + pageId).classList.add('nav-active');
        }

        // RENDER FUNCTIONS
        function renderAll() {
            // Header & Info
            document.getElementById('webLogo').src = siteData.logo;
            document.getElementById('webNameDisplay').innerText = siteData.webName.toUpperCase();
            document.getElementById('footerWebName').innerText = siteData.webName;
            document.getElementById('infoTitle').innerText = siteData.infoTitle;
            document.getElementById('infoContent').innerText = siteData.infoContent;

            // Membership
            const mb = siteData.membership;
            const statusBadge = document.getElementById('membershipStatus');
            if(mb.status === 'open') {
                statusBadge.innerText = "PENDAFTARAN DIBUKA";
                statusBadge.className = "mb-4 inline-block px-4 py-1 rounded-full text-xs font-bold uppercase bg-green-600 text-white";
                document.getElementById('membershipAvailable').classList.remove('hidden');
                document.getElementById('membershipClosed').classList.add('hidden');
            } else {
                statusBadge.innerText = "PENDAFTARAN DITUTUP";
                statusBadge.className = "mb-4 inline-block px-4 py-1 rounded-full text-xs font-bold uppercase bg-red-600 text-white";
                document.getElementById('membershipAvailable').classList.add('hidden');
                document.getElementById('membershipClosed').classList.remove('hidden');
            }
            document.getElementById('membershipDesc').innerText = mb.desc;
            document.getElementById('membershipPrice').innerText = mb.price;

            // Order Shows
            const grid = document.getElementById('showGrid');
            grid.innerHTML = '';
            siteData.shows.forEach(show => {
                grid.innerHTML += `
                    <div class="glass card-show overflow-hidden flex flex-col">
                        <img src="${show.image}" alt="${show.name}" class="w-full h-48 object-cover">
                        <div class="p-6 flex-grow">
                            <h3 class="text-xl font-bold text-yellow-500 mb-2">${show.name}</h3>
                            <div class="space-y-1 text-sm text-gray-300">
                                <p><i class="fas fa-users mr-2"></i> ${show.lineup}</p>
                                <p><i class="fas fa-clock mr-2"></i> ${show.time}</p>
                                <p><i class="fas fa-info-circle mr-2"></i> ${show.criteria}</p>
                            </div>
                            <div class="mt-4 text-2xl font-bold text-white">${show.price}</div>
                        </div>
                        <button onclick="openOrderModal('${show.name}', '${show.price}', '${show.lineup}', '${show.criteria}', '${show.time}', '${show.qris}')" 
                                class="bg-yellow-600 hover:bg-yellow-500 p-4 font-bold transition">
                            ORDER NOW
                        </button>
                    </div>
                `;
            });

            // Admin Panel Fields
            document.getElementById('inputLogo').value = siteData.logo;
            document.getElementById('inputWebName').value = siteData.webName;
            document.getElementById('inputInfoTitle').value = siteData.infoTitle;
            document.getElementById('inputInfoContent').value = siteData.infoContent;
            document.getElementById('inputMemberStatus').value = mb.status;
            document.getElementById('inputMemberDesc').value = mb.desc;
            document.getElementById('inputMemberPrice').value = mb.price;
            document.getElementById('inputMemberQRIS').value = mb.qris;

            renderAdminShows();
        }

        function renderAdminShows() {
            const list = document.getElementById('adminShowList');
            list.innerHTML = '';
            siteData.shows.forEach((show, index) => {
                list.innerHTML += `
                    <div class="flex items-center justify-between bg-white/5 p-3 rounded">
                        <span>${show.name} (${show.price})</span>
                        <button onclick="deleteShow(${index})" class="text-red-500 hover:text-red-300"><i class="fas fa-trash"></i></button>
                    </div>
                `;
            });
        }

        // ADMIN LOGIC
        function checkAdmin() {
            const code = prompt("Masukkan Kode Admin:");
            if(code === ADMIN_CODE) {
                document.getElementById('adminPanel').classList.remove('hidden');
            } else if(code !== null) {
                alert("Kode Salah!");
            }
        }

        function closeAdmin() {
            document.getElementById('adminPanel').classList.add('hidden');
        }

        function saveGeneralSettings() {
            siteData.logo = document.getElementById('inputLogo').value;
            siteData.webName = document.getElementById('inputWebName').value;
            siteData.infoTitle = document.getElementById('inputInfoTitle').value;
            siteData.infoContent = document.getElementById('inputInfoContent').value;
            saveToStorage();
            renderAll();
            alert("Pengaturan disimpan!");
        }

        function saveMemberSettings() {
            siteData.membership.status = document.getElementById('inputMemberStatus').value;
            siteData.membership.desc = document.getElementById('inputMemberDesc').value;
            siteData.membership.price = document.getElementById('inputMemberPrice').value;
            siteData.membership.qris = document.getElementById('inputMemberQRIS').value;
            saveToStorage();
            renderAll();
            alert("Pengaturan Membership disimpan!");
        }

        function addShow() {
            const name = document.getElementById('newShowName').value;
            const price = document.getElementById('newShowPrice').value;
            if(!name || !price) return alert("Minimal nama dan harga harus diisi!");

            const newShow = {
                id: Date.now(),
                name: name,
                price: price,
                time: document.getElementById('newShowTime').value || "-",
                lineup: document.getElementById('newShowLineup').value || "-",
                criteria: document.getElementById('newShowCriteria').value || "-",
                image: document.getElementById('newShowImage').value || "https://via.placeholder.com/400",
                qris: document.getElementById('newShowQRIS').value || "https://via.placeholder.com/300?text=QRIS"
            };

            siteData.shows.push(newShow);
            saveToStorage();
            renderAll();
            
            // Clear inputs
            document.querySelectorAll('#adminPanel input[id^="newShow"]').forEach(i => i.value = "");
            alert("Show ditambahkan!");
        }

        function deleteShow(index) {
            if(confirm("Hapus show ini?")) {
                siteData.shows.splice(index, 1);
                saveToStorage();
                renderAll();
            }
        }

        // ORDER MODAL LOGIC
        function openOrderModal(name, price, lineup, criteria, time, qris) {
            document.getElementById('modalTitle').innerText = name;
            document.getElementById('modalDetail').innerText = `${lineup} | ${time} | ${price}`;
            document.getElementById('modalQRIS').src = qris || siteData.membership.qris;
            
            const message = `Halo Admin, saya ingin memesan:\n\nShow: ${name}\nHarga: ${price}\nLineup: ${lineup}\nWaktu: ${time}\n\nSaya telah melakukan pembayaran via QRIS. Mohon konfirmasinya.`;
            const encoded = encodeURIComponent(message);
            
            document.getElementById('waConfirmBtn').onclick = () => {
                window.open(`https://wa.me/${WA_PHONE}?text=${encoded}`, '_blank');
            };

            document.getElementById('orderModal').style.display = 'flex';
        }

        function closeOrderModal() {
            document.getElementById('orderModal').style.display = 'none';
        }

        // STORAGE LOGIC
        function saveToStorage() {
            localStorage.setItem('osr_data', JSON.stringify(siteData));
        }

        function loadFromStorage() {
            const stored = localStorage.getItem('osr_data');
            if(stored) {
                siteData = JSON.parse(stored);
            }
        }

    </script>
</body>
</html>